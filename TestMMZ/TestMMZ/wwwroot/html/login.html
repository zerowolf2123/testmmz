<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Авторизация</title>
</head>
<body>
    <p>Авторизация</p>
    <div>
        <p>Логин</p>
        <input id="login" required />
        <p>Пароль</p>
        <input id="password" type="password" required />
        <p>
            <button id="singIn">
                Войти
            </button>
        </p>
    </div>
    <script>
        async function singIn(login, password) {
            const response = await fetch("/login", {
                method: "POST",
                headers: { "Accept": "application/json", "Content-Type": "application/json" },
                body: JSON.stringify({
                    login: login,
                    password: password
                })
            });
            if (response.ok === true) {
                var url = await response.json();
                console.log(url);
                window.location.href = url;
            }
        }

        document.getElementById("singIn").addEventListener("click", async () => {
            const login = document.getElementById("login").value;
            const password = document.getElementById("password").value;
            singIn(login, password);
        });
    </script>
</body>
</html>